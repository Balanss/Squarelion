import{r,u as A,R as U,a as i,F as f,j as e,L as y}from"./index-5303983f.js";import{f as v,U as R,a as P}from"./index.esm2017-61abb3f5.js";function z({setUserPermit:s}){const l=async()=>{try{return v.collection("admin").onSnapshot(u=>{const n=u.docs.map(o=>({id:o.id,...o.data()}));n.sort((o,d)=>o.id-d.id),s(n)})}catch(a){console.error("Error fetching user permit data:",a)}};r.useEffect(()=>{l()},[])}function M(){const[s,l]=r.useState(0),[a,u]=r.useState(""),[n,o]=r.useState(""),[d,w]=r.useState(""),m=A();U.useState(null),r.useEffect(()=>{w(localStorage.getItem("user"))},[d]);const[O,x]=r.useState([]),N=async()=>{try{return v.collection("admin").onSnapshot(g=>{const p=g.docs.map(c=>({id:c.id,...c.data()}));p.sort((c,L)=>{const j=parseInt(c.id.split("-")[0]),k=parseInt(L.id.split("-")[0]);return j-k}),x(p)})}catch{}};r.useEffect(()=>{N()},[]);const[$,S]=r.useState(!1);r.useEffect(()=>{const t=()=>{S(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]);const[I,b]=r.useState([]),h=I.filter(t=>t.request>="Awaiting Request");h.length>0&&h.length;const E=[{id:`/user/${s}`,title:s},{id:"/admindashboard",title:"Admin"},{id:"logout",title:"Logout"}];return i(f,{children:[e(z,{setUserPermit:b}),e(R,{setUser:l,user:s,level:a,setLevel:u,setUuid:o,uuid:n}),n&&a>2&&e(f,{children:e("div",{className:"flex font-mono items-center justify-center sm:w-[400px]  sm:items-center sm:m-auto sm:justify-around ",children:E.map((t,g)=>a<10&&t.id==="/admindashboard"?null:i("span",{className:" mr-5 relative mt-2 mb-2 md:px-5 md:py-3 overflow-hidden font-medium text-gray-600 bg-gray-100 border border-gray-100 rounded-lg shadow-inner group",children:[e("span",{className:"absolute top-0 left-0 w-0 h-0 transition-all duration-200 border-t-2 border-yellow-600 group-hover:w-full ease"}),e("span",{className:"absolute bottom-0 right-0 w-0 h-0 transition-all duration-200 border-b-2 border-yellow-600 group-hover:w-full ease"}),e("span",{className:"absolute top-0 left-0 w-full h-0 transition-all duration-300 delay-200 bg-gray-600 group-hover:h-full ease"}),e("span",{className:"absolute bottom-0 left-0 w-full h-0 transition-all duration-300 delay-200 bg-gray-600 group-hover:h-full ease"}),e("span",{className:"absolute inset-0 w-full h-full duration-300 delay-300 bg-sky-900 opacity-0 group-hover:opacity-100"}),e("span",{className:"relative transition-colors duration-300 delay-200 group-hover:text-white ease",children:e("button",{className:"text-center text-sm cursor-pointer w-[70px] ",onClick:()=>{t.id==="logout"&&P.signOut().then(()=>{localStorage.removeItem("user"),localStorage.removeItem("level"),localStorage.removeItem("uuid"),localStorage.removeItem("userPermit"),localStorage.removeItem("navigator"),l(""),u(""),o(""),b(""),m("/")}),t.id==="/admindashboard"&&m("/admindashboard"),t.id===`/user/${s}`&&m(`/user/${s}`)},children:t.title})})]},g))})}),!n&&e(f,{children:i("div",{className:"flex font-mono items-center justify-center sm:w-[300px]  sm:items-center sm:m-auto sm:justify-around",children:[i("button",{type:"button",className:"w-[80px] text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2",children:[" ",e(y,{to:"/login",className:"mr-10",children:" Login "})]}),i("button",{type:"button",className:"w-[80px] text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2",children:["   ",e(y,{to:"/signup",className:"",children:" Signup "})]})]})})]})}export{z as A,M as N};
