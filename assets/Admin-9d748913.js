import{r as d,g as ee,a as se,s as K,_ as B,b as te,e as ne,c as re,j as s,d as ie,f as M,h as q,i as ae,u as H,L as oe}from"./index-bee08673.js";import{U as Z,_ as k,b as C,c as V,m as W,d as R,r as ce,e as le,u as ue,h as de}from"./index.esm2017-49ab2fc4.js";import{u as me,A as pe,N as fe,P as ge}from"./Nav-0c078957.js";import{F as he}from"./Footer-226ff294.js";import{P as xe,B as ve}from"./PartnerLogic-a367b87f.js";const je=d.createContext(),_=je;function Se(e){return ee("MuiGrid",e)}const be=[0,1,2,3,4,5,6,7,8,9,10],we=["column-reverse","column","row-reverse","row"],Ne=["nowrap","wrap-reverse","wrap"],U=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],E=se("MuiGrid",["root","container","item","zeroMinWidth",...be.map(e=>`spacing-xs-${e}`),...we.map(e=>`direction-xs-${e}`),...Ne.map(e=>`wrap-xs-${e}`),...U.map(e=>`grid-xs-${e}`),...U.map(e=>`grid-sm-${e}`),...U.map(e=>`grid-md-${e}`),...U.map(e=>`grid-lg-${e}`),...U.map(e=>`grid-xl-${e}`)]),ye=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function P(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function $e({theme:e,ownerState:t}){let i;return e.breakpoints.keys.reduce((r,n)=>{let a={};if(t[n]&&(i=t[n]),!i)return r;if(i===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(i==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const f=M({values:t.columns,breakpoints:e.breakpoints.values}),g=typeof f=="object"?f[n]:f;if(g==null)return r;const l=`${Math.round(i/g*1e8)/1e6}%`;let m={};if(t.container&&t.item&&t.columnSpacing!==0){const o=e.spacing(t.columnSpacing);if(o!=="0px"){const x=`calc(${l} + ${P(o)})`;m={flexBasis:x,maxWidth:x}}}a=B({flexBasis:l,flexGrow:0,maxWidth:l},m)}return e.breakpoints.values[n]===0?Object.assign(r,a):r[e.breakpoints.up(n)]=a,r},{})}function ke({theme:e,ownerState:t}){const i=M({values:t.direction,breakpoints:e.breakpoints.values});return q({theme:e},i,r=>{const n={flexDirection:r};return r.indexOf("column")===0&&(n[`& > .${E.item}`]={maxWidth:"none"}),n})}function J({breakpoints:e,values:t}){let i="";Object.keys(t).forEach(n=>{i===""&&t[n]!==0&&(i=n)});const r=Object.keys(e).sort((n,a)=>e[n]-e[a]);return r.slice(0,r.indexOf(i))}function Ce({theme:e,ownerState:t}){const{container:i,rowSpacing:r}=t;let n={};if(i&&r!==0){const a=M({values:r,breakpoints:e.breakpoints.values});let f;typeof a=="object"&&(f=J({breakpoints:e.breakpoints.values,values:a})),n=q({theme:e},a,(g,l)=>{var m;const o=e.spacing(g);return o!=="0px"?{marginTop:`-${P(o)}`,[`& > .${E.item}`]:{paddingTop:P(o)}}:(m=f)!=null&&m.includes(l)?{}:{marginTop:0,[`& > .${E.item}`]:{paddingTop:0}}})}return n}function Re({theme:e,ownerState:t}){const{container:i,columnSpacing:r}=t;let n={};if(i&&r!==0){const a=M({values:r,breakpoints:e.breakpoints.values});let f;typeof a=="object"&&(f=J({breakpoints:e.breakpoints.values,values:a})),n=q({theme:e},a,(g,l)=>{var m;const o=e.spacing(g);return o!=="0px"?{width:`calc(100% + ${P(o)})`,marginLeft:`-${P(o)}`,[`& > .${E.item}`]:{paddingLeft:P(o)}}:(m=f)!=null&&m.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${E.item}`]:{paddingLeft:0}}})}return n}function Ge(e,t,i={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[i[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(n=>{const a=e[n];Number(a)>0&&r.push(i[`spacing-${n}-${String(a)}`])}),r}const Pe=K("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e,{container:r,direction:n,item:a,spacing:f,wrap:g,zeroMinWidth:l,breakpoints:m}=i;let o=[];r&&(o=Ge(f,m,t));const x=[];return m.forEach(S=>{const v=i[S];v&&x.push(t[`grid-${S}-${String(v)}`])}),[t.root,r&&t.container,a&&t.item,l&&t.zeroMinWidth,...o,n!=="row"&&t[`direction-xs-${String(n)}`],g!=="wrap"&&t[`wrap-xs-${String(g)}`],...x]}})(({ownerState:e})=>B({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),ke,Ce,Re,$e);function Te(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const i=[];return t.forEach(r=>{const n=e[r];if(Number(n)>0){const a=`spacing-${r}-${String(n)}`;i.push(a)}}),i}const Ue=e=>{const{classes:t,container:i,direction:r,item:n,spacing:a,wrap:f,zeroMinWidth:g,breakpoints:l}=e;let m=[];i&&(m=Te(a,l));const o=[];l.forEach(S=>{const v=e[S];v&&o.push(`grid-${S}-${String(v)}`)});const x={root:["root",i&&"container",n&&"item",g&&"zeroMinWidth",...m,r!=="row"&&`direction-xs-${String(r)}`,f!=="wrap"&&`wrap-xs-${String(f)}`,...o]};return ae(x,Se,t)},Be=d.forwardRef(function(t,i){const r=te({props:t,name:"MuiGrid"}),{breakpoints:n}=me(),a=ne(r),{className:f,columns:g,columnSpacing:l,component:m="div",container:o=!1,direction:x="row",item:S=!1,rowSpacing:v,spacing:$=0,wrap:I="wrap",zeroMinWidth:u=!1}=a,c=re(a,ye),h=v||$,y=l||$,j=d.useContext(_),w=o?g||12:j,N={},T=B({},c);n.keys.forEach(p=>{c[p]!=null&&(N[p]=c[p],delete T[p])});const L=B({},a,{columns:w,container:o,direction:x,item:S,rowSpacing:h,columnSpacing:y,wrap:I,zeroMinWidth:u,spacing:$},N,{breakpoints:n.keys}),A=Ue(L);return s.jsx(_.Provider,{value:w,children:s.jsx(Pe,B({ownerState:L,className:ie(A.root,f),as:m,ref:i},T))})}),O=Be,D="https://Balanss.github.io/Squarelion/assets/user-def15e8d.png",Ee="https://Balanss.github.io/Squarelion/assets/thumbup-73273f4b.png",Ie="https://Balanss.github.io/Squarelion/assets/thumbdown-fa6379fb.png";function Le(){const[e,t]=d.useState([]),[i,r]=d.useState(""),[n,a]=d.useState(""),[f,g]=d.useState(""),[l,m]=d.useState("waiting");H();const[o,x]=d.useState("");function S(u,c){c.preventDefault(),e.map((h,y)=>{if(y===u){const j=k(R,"admin"),w=C(j,h.id),N=parseInt(o);V(w,{level:N})}})}function v(u){e.map((c,h)=>{if(h===u){const y=k(R,"admin"),j=C(y,c.id);V(j,{request:"Accepted"},{merge:!0});const w=k(R,"notInOffice"),N=C(w,c.Name);W(N,{[c.time]:{request:"Accepted"}},{merge:!0})}})}function $(u){e.map((c,h)=>{if(h===u){const y=k(R,"admin"),j=C(y,c.id);V(j,{request:"Denied"},{merge:!0});const w=k(R,"notInOffice"),N=C(w,c.Name);W(N,{[c.time]:{request:"Denied"}},{merge:!0})}})}function I(u){}return s.jsxs(s.Fragment,{children:[s.jsx(pe,{setUserPermit:t}),s.jsx(Z,{setUser:r,user:i,setUuid:a,setIsAccepted:g,level:l,setLevel:m}),s.jsxs("div",{className:"user-settings-admin",children:[s.jsxs("div",{className:"user-levels",children:[s.jsx("h2",{children:"  Users that have been registered to the system "}),s.jsx("div",{className:"inside-user-levels",children:e.map((u,c)=>{if(u.level>0)return s.jsxs("div",{className:"user-level-div",children:[s.jsx("img",{src:D,style:{width:"30px"}}),s.jsx("h4",{onClick:()=>void 0,className:"user-name-edit",children:u.Name}),s.jsxs("h4",{children:["User Level: ",u.level]}),s.jsx("form",{onSubmit:h=>{S(c,h)},children:u.level!==11?s.jsx("input",{placeholder:"EDIT USER",onChange:h=>x(h.target.value)}):null}),u.request>""?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"div-request-approval",children:[s.jsxs("h3",{className:"request-approval",children:[" ",u.request," "]}),s.jsxs("div",{children:[s.jsx("img",{src:Ee,onClick:()=>v(c),style:{width:"40px",cursor:"pointer"}}),s.jsx("img",{src:Ie,onClick:()=>$(c),style:{width:"40px",cursor:"pointer"}})]})]})}):null]},c)})}),s.jsx("hr",{className:"hr"})]}),s.jsxs("div",{className:"user-levels-await",children:[s.jsx("h2",{children:" Users awaiting approval"}),s.jsx("div",{children:e.map((u,c)=>{if(u.level===0)return s.jsxs("div",{className:"user-level-div",children:[s.jsx("img",{src:D,style:{width:"30px"}}),s.jsx("h1",{children:u.Name}),s.jsxs("h1",{children:[" User Level: ",u.level]}),s.jsx("form",{onSubmit:h=>{S(c,h)},children:s.jsx("input",{placeholder:"EDIT USER",onChange:h=>x(h.target.value)})})]},c)})})]})]})," "]})}const We="https://Balanss.github.io/Squarelion/assets/client-acfcdaca.png";K(ge)(({theme:e})=>({backgroundColor:e.palette.mode==="dark"?"#1A2027":"#fff",...e.typography.body2,padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}));function qe(){const[e,t]=d.useState(""),[i,r]=d.useState(""),[n,a]=d.useState(""),[f,g]=d.useState(""),[l,m]=d.useState("waiting"),o=H(),[x,S]=d.useState(),[v,$]=d.useState([]);function I(p){p.preventDefault();const b=k(R,"partner"),z=C(b,e);W(z,{name:e},{merge:!0});const Q=ce(le(),`products/partners/${x.name}`),F=ue(Q,x);F.on("state_changed",G=>{G.bytesTransferred/G.totalBytes*100},G=>{console.error(G)},async()=>{const G=await de(F.snapshot.ref),X=k(R,"partner"),Y=C(X,e);W(Y,{imageUrl:G,name:e,status:0},{merge:!0})},{merge:!0})}const u=p=>{const b=p.target.files[0];S(b)};function c(p){v.map((b,z)=>{z===p&&(localStorage.setItem("partner",b.name),localStorage.setItem("image",b.imageUrl),setTimeout(()=>{o(`/profile/${b.name}`)},2e3))})}d.useEffect(()=>{const p=setTimeout(()=>{l<8&&o("/"),l>8&&clearTimeout(p)},1e3);return()=>{clearTimeout(p)}},[l,o]);const[h,y]=d.useState(!0);d.useEffect(()=>{const p=setTimeout(()=>{y(!1)},1e3);return()=>{clearTimeout(p)}},[]);const[j,w]=d.useState(!1),[N,T]=d.useState(!1),L=()=>{T(!0)},A=()=>{T(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{partner:v,setPartner:$}),s.jsxs("div",{className:"signup-main",style:{color:"white"},children:[s.jsx(Z,{setUser:r,user:i,setUuid:a,setIsAccepted:g,level:l,setLevel:m}),n!==""&&l>8&&h===!1&&s.jsx(s.Fragment,{children:s.jsxs("div",{style:{backgroundColor:"#194375",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[s.jsxs("div",{style:{backgroundColor:"white"},children:[" ",s.jsx(fe,{})," "]}),s.jsx("div",{className:"admin-page-btn-switch hover-container",style:{marginTop:"30px"},children:s.jsxs("h1",{onMouseEnter:L,onMouseLeave:A,className:"switching",onClick:()=>w(j===!1),children:[" ",j===!1?s.jsx("img",{className:"usersimg",src:D}):s.jsx("img",{className:"clientimg",src:We}),N&&s.jsx("p",{className:"hover-text",children:j===!1?"Switch to users":"Switch to clients"})]})}),j===!1&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"style-admin-page",children:[s.jsxs("form",{onSubmit:I,className:"form-admindb",children:[s.jsx("input",{type:"text",placeholder:"ENTER PARTNER",onChange:p=>t(p.target.value),className:"input-admindb"}),s.jsxs("label",{children:["Image:",s.jsx("input",{type:"file",onChange:u})]}),s.jsx("button",{className:"add-partner",children:" Add Partner "})]}),s.jsx("div",{className:"partner-links",children:s.jsx(ve,{sx:{flexGrow:1},children:s.jsx(O,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:v.map((p,b)=>s.jsx(O,{item:!0,xs:2,sm:4,md:4,children:s.jsx("img",{className:"partner-image",src:p.imageUrl,onClick:()=>{c(b)},style:{cursor:"pointer",backgroundColor:"white"}},b)},b))})})})]})}),j===!0&&s.jsx(Le,{}),s.jsx(he,{})]})}),h===!0&&s.jsx(s.Fragment,{children:s.jsx(oe,{})})]})]})}export{qe as default};
