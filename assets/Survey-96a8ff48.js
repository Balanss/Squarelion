import{r as i,j as s}from"./index-5a27fc07.js";import{U as T,i as _,_ as N,d as v,b as L,m as M}from"./index.esm2017-77c9a932.js";const x="https://Balanss.github.io/Squarelion/assets/mad-a548d970.png",h="https://Balanss.github.io/Squarelion/assets/angry-41c56047.png",m="https://Balanss.github.io/Squarelion/assets/poker-face-4a70decb.png",g="https://Balanss.github.io/Squarelion/assets/smile-7266816c.png",j="https://Balanss.github.io/Squarelion/assets/star-b68b1eaa.png";function z(){const[y,R]=i.useState(""),[B,F]=i.useState(""),[I,E]=i.useState(""),[c,Q]=i.useState([]);i.useEffect(()=>{(async()=>{try{const e=await _(N(v,"surveySuperADMIN")),n=[];e.forEach(u=>{const k={id:u.id,...u.data()};n.push(k)}),Q(n)}catch(e){console.error("Error retrieving surveys:",e)}})()},[]);const[p,S]=i.useState("bus"),[w,l]=i.useState(""),[q,o]=i.useState(""),[C,a]=i.useState(""),[b,r]=i.useState(""),[f,d]=i.useState(""),U=()=>{const e=(c.findIndex(n=>n.id===p)+1)%c.length;S(c[e].id)};function D(t){c.map((e,n)=>{const u=w- -q- -C- -b- -f;if(n===t){const k=N(v,"survey"+y),A=L(k,e.id);M(A,{rating:w,rating1:q,rating2:C,rating3:b,rating4:f,score:u},{merge:!0})}})}return s.jsxs(s.Fragment,{children:[s.jsx(T,{setUser:R,user:y,level:B,setLevel:F,setUuid:E,uuid:I}),s.jsx("div",{className:"survey-div",children:s.jsxs("div",{className:"survey-paper",children:[s.jsx("h1",{style:{color:"black"},children:" Squarelion Agency Survey "}),c.map((t,e)=>s.jsxs("div",{children:[p===t.id&&s.jsxs("h2",{style:{color:"black",maginBottom:"60px"},onClick:()=>S(t.id),children:["Topic: ",t.id]}),p===t.id&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:t.question0>""?"questions-tap":"",children:t.question0>""&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{style:{color:"black"},children:["Question 1: ",t.question0]}),s.jsxs("div",{className:"emoji-rating",children:[s.jsx("img",{src:x,style:{width:"30px"},onClick:()=>l(1)}),s.jsx("img",{src:h,style:{width:"30px"},onClick:()=>l(2)}),s.jsx("img",{src:m,style:{width:"30px"},onClick:()=>l(3)}),s.jsx("img",{src:g,style:{width:"30px"},onClick:()=>l(4)}),s.jsx("img",{src:j,style:{width:"30px"},onClick:()=>l(5)})]})]})}),s.jsx("div",{className:t.question1>""?"questions-tap":"",children:t.question1>""&&s.jsxs(s.Fragment,{children:["   ",s.jsxs("p",{style:{color:"black"},children:["Question 2: ",t.question1]}),s.jsxs("div",{className:"emoji-rating",children:[s.jsx("img",{src:x,style:{width:"30px"},onClick:()=>o(1)}),s.jsx("img",{src:h,style:{width:"30px"},onClick:()=>o(2)}),s.jsx("img",{src:m,style:{width:"30px"},onClick:()=>o(3)}),s.jsx("img",{src:g,style:{width:"30px"},onClick:()=>o(4)}),s.jsx("img",{src:j,style:{width:"30px"},onClick:()=>o(5)})]})," "]})}),s.jsx("div",{className:t.question2>""?"questions-tap":"",children:t.question2>""&&s.jsxs(s.Fragment,{children:["  ",s.jsxs("p",{style:{color:"black"},children:["Question 3: ",t.question2]}),s.jsxs("div",{className:"emoji-rating",children:[s.jsx("img",{src:x,style:{width:"30px"},onClick:()=>a(1)}),s.jsx("img",{src:h,style:{width:"30px"},onClick:()=>a(2)}),s.jsx("img",{src:m,style:{width:"30px"},onClick:()=>a(3)}),s.jsx("img",{src:g,style:{width:"30px"},onClick:()=>a(4)}),s.jsx("img",{src:j,style:{width:"30px"},onClick:()=>a(5)})]})," "]})}),s.jsx("div",{className:t.question3>""?"questions-tap":"",children:t.question3>""&&s.jsxs(s.Fragment,{children:["  ",s.jsxs("p",{style:{color:"black"},children:["Question 4: ",t.question3]}),s.jsxs("div",{className:"emoji-rating",children:[s.jsx("img",{src:x,style:{width:"30px"},onClick:()=>r(1)}),s.jsx("img",{src:h,style:{width:"30px"},onClick:()=>r(2)}),s.jsx("img",{src:m,style:{width:"30px"},onClick:()=>r(3)}),s.jsx("img",{src:g,style:{width:"30px"},onClick:()=>r(4)}),s.jsx("img",{src:j,style:{width:"30px"},onClick:()=>r(5)})]})," "]})}),s.jsx("div",{className:t.question4>""?"questions-tap":"",children:t.question4>""&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{style:{color:"black"},children:["Question 5: ",t.question4]}),s.jsxs("div",{className:"emoji-rating",children:[s.jsx("img",{src:x,style:{width:"30px"},onClick:()=>d(1)}),s.jsx("img",{src:h,style:{width:"30px"},onClick:()=>d(2)}),s.jsx("img",{src:m,style:{width:"30px"},onClick:()=>d(3)}),s.jsx("img",{src:g,style:{width:"30px"},onClick:()=>d(4)}),s.jsx("img",{src:j,style:{width:"30px"},onClick:()=>d(5)})]})]})})]}),p===t.id&&s.jsx("button",{className:"next-btn",onClick:()=>{U(),D(e)},children:"Next"})]},e))]})})]})}export{z as default};
