import{u as V,r as s,j as e,a as t,L as G,b as Z,I as Q,_ as D,U as _,g as F,c as Y,d as z,F as A,e as ee,m as te}from"./index-861fdf13.js";import{N as ae,r as re,g as se,u as le,a as ne}from"./Nav-97973a7c.js";import{P as ie}from"./PartnerLogic-c8602882.js";import{h as oe,c as ce,u as de,I as me}from"./user-136f2847.js";import{V as ge}from"./Version-be710a4a.js";const ue="https://Balanss.github.io/Squarelion/assets/new-arrival-b24be3b5.png",he="https://Balanss.github.io/Squarelion/assets/sqlProp-9061c7de.jpg";function pe({level:c,user:g,switching:u,setSwitching:x}){const h=V(),S=()=>{Z.signOut().then(()=>{h("/"),window.location.reload()})};function f(){localStorage.setItem("user",g),setTimeout(()=>{h(`/user/${g}`)},1e3)}const[U,n]=s.useState(!0),y=g.charAt(0).toUpperCase()+g.slice(1).toLowerCase();return e("aside",{id:"cta-button-sidebar",className:"fixed top-0 left-0 z-40 w-1/5 xl:w-[15%] h-screen transition-transform -translate-x-full sm:translate-x-0","aria-label":"Sidebar",children:e("div",{className:"h-full px-3 py-4 overflow-y-auto bg-gray-800 dark:bg-gray-800",children:t("ul",{className:"space-y-2 font-medium",children:[e("li",{children:t(G,{to:"/",className:"transform transition-transform ease-in hover:scale-105 cursor-pointer flex items-center p-2 text-white rounded-lg dark:text-white dark:hover:bg-gray-700 group",children:[e("img",{src:oe,className:"w-6 md:w-[20px] lg:w-[30px] flex-shrink-0 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-white dark:group-hover:text-white"}),e("span",{className:"md:text-xs lg:text-md ml-3 text-white rounded-lg dark:text-white",children:"Home"})]})}),e("li",{children:t("span",{className:"transform transition-transform ease-in hover:scale-105 cursor-pointer flex items-center p-2 rounded-lg dark:text-white dark:hover:bg-gray-700 group",onClick:()=>x("Client"),children:[e("img",{className:"w-6 md:w-[30px] lg:-[40px]",src:ce}),e("span",{className:"md:text-xs lg:text-md flex-1 ml-3 whitespace-nowrap text-white rounded-lg dark:text-white",children:"Clients"})]})}),c>9?e("li",{children:t("span",{className:"transform transition-transform ease-in hover:scale-105 cursor-pointer flex items-center p-2 text-white rounded-lg dark:text-white dark:hover:bg-gray-700 group",onClick:()=>{x("Users"),n(!1),setTimeout(()=>n(!0),1e3)},children:[e("img",{src:ue,className:"w-6 md:w-[30px] lg:-[40px]"}),e("span",{className:"md:text-xs lg:text-md flex-1 ml-3 whitespace-nowrap text-white rounded-lg dark:text-white",children:"Users"})]})}):null,c>9?e("li",{className:"transform transition-transform ease-in hover:scale-105 cursor-pointer",children:t("span",{onClick:()=>x(""),className:"flex items-center p-2 text-white rounded-lg dark:text-white dark:hover:bg-gray-700 group",children:[e("img",{src:he,className:"w-6 md:w-[30px]"}),e(G,{to:"/sqlProp",className:"md:text-xs lg:text-md  flex-1 ml-3 whitespace-nowrap text-white rounded-lg dark:text-white",children:"Sql Properties"})]})}):null,e("li",{children:t("span",{onClick:f,className:"transform transition-transform ease-in hover:scale-105 cursor-pointer flex items-center p-2 text-white rounded-lg dark:text-white dark:hover:bg-gray-700 group",children:[e("img",{src:de,className:"w-6 md:w-[30px] lg:-[40px]"}),e("span",{className:"md:text-xs lg:text-md flex-1 ml-3 whitespace-nowrap",children:y})]})}),e("li",{children:t("span",{className:"transform transition-transform ease-in hover:scale-105 cursor-pointer flex items-center p-2 text-white rounded-lg dark:text-white dark:hover:bg-gray-700 group",onClick:S,children:[e("img",{src:me,className:"w-6 md:w-[30px] flex-shrink-0 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-white dark:group-hover:text-white"}),e("span",{className:"flex-1 ml-3 md:text-xs lg:text-md  whitespace-nowrap ",children:"Sign Out"})]})})]})})})}function xe(){const[c,g]=s.useState([]),[u,x]=s.useState(""),[h,S]=s.useState([]),[f,U]=s.useState([]),[n,y]=s.useState(""),[N,T]=s.useState(""),[M,w]=s.useState(""),[B,O]=s.useState(""),[q,$]=s.useState("waiting");s.useEffect(()=>{const a=Q(D(z,"admin"),i=>{const d=i.docs.reduce((b,k)=>{const o=k.data();return o.logs?[...b,{name:o.Name,logs:o.logs,level:o.level,logsOut:o.logsOut,id:k.id}]:b},[]);g(d)});return()=>a()},[]);const E=a=>{x(a.target.value);const i=c.find(d=>d.name===a.target.value);S(i?i.logs:[]),U(i?i.logsOut:[])},j=a=>a&&a.length>0?a[a.length-1]:"",P=a=>a&&a.length>0?a[a.length-1]:"",L=10,[C,I]=s.useState(L),R=()=>{I(C+L)},v=()=>{I(L)};return t("div",{className:"bg-slate-900 p-4 mt-4 animate-fade animate-once animate-duration-[2000ms] animate-ease-in-out",children:[e(_,{setUser:T,user:N,setUuid:w,setIsAccepted:O,level:q,setLevel:$}),e("section",{children:e("div",{className:"flex flex-col items-center justify-center mb-3",children:e("p",{className:"text-2xl font-bold text-white",children:"Squarelion user panel information"})})}),t("div",{className:"flex flex-col items-center justify-center",children:[e("label",{htmlFor:"user-select",children:"Select a user:"}),t("select",{id:"user-select",value:u===""?"Select user":u,onChange:E,children:[e("option",{value:"",className:"text-black",children:"--Select a user--"}),c.map(a=>e("option",{className:"text-black",value:a.name,children:a.name},a.name))]})]}),t("table",{className:"w-full mt-5 text-sm text-left text-gray-500 dark:text-gray-400",children:[e("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:t("tr",{className:"",children:[e("th",{className:"px-6 py-3",children:"User"}),e("th",{className:"px-6 py-3",children:"Level"}),e("th",{className:"px-6 py-3",children:"Latest Login Time"}),e("th",{className:"px-6 py-3",children:"Latest Logout Time"}),e("th",{scope:"col",className:"px-6 py-3",children:"User Level"})]})}),e("tbody",{className:"bg-white divide-y dark:divide-gray-700 dark:bg-gray-800",children:c.map((a,i)=>t("tr",{className:"",children:[e("td",{className:"px-6 py-4",children:a.name}),e("td",{className:"px-6 py-4",children:a.level}),e("td",{className:"px-6 py-4",children:j(a.logs)}),e("td",{className:"px-6 py-4",children:P(a.logsOut)}),e("td",{className:"px-6 py-4",children:e("input",{className:"text-black",placeholder:"EDIT USER",onChange:d=>y(d.target.value),onKeyDown:d=>{if(d.key==="Enter"){d.preventDefault();const b=D(z,"admin"),k=F(b,a.id),o=parseInt(n);Y(k,{level:o},{merge:!0}),y(""),alert(`${a.name} has been updated to ${n}`)}}})})]},a.name))})]}),h.length>0&&t("div",{className:"flex gap-5 animate-fade animate-once animate-duration-[2200ms] animate-ease-in-out",children:[t("ol",{className:"relative border-l border-gray-200 dark:border-gray-700 mt-5",children:[t("h2",{className:"ml-2",children:[u,"'s logged In"]}),e("ul",{className:"flex flex-col-reverse",children:h.slice(0,C).sort((a,i)=>new Date(a).getMonth()-new Date(i).getMonth()).map((a,i)=>t("li",{className:"mb-10 ml-4",children:[e("div",{className:"absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"}),e("time",{className:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:a})]},i))}),h.length>10&&t("div",{className:"flex justify-center mt-4 ml-2",children:[e("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2",onClick:R,children:"Show More"}),e("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:v,children:"Show Less"})]})]}),f&&f.length>0&&t("ol",{className:"relative border-l border-gray-200 dark:border-gray-700 mt-5",children:[t("h2",{className:"ml-2",children:[u,"'s Clocked Out"]}),e("ul",{className:"flex flex-col-reverse",children:f.slice(0,C).map((a,i)=>t("li",{className:"mb-10 ml-4",children:[e("div",{className:"absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"}),e("time",{className:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:a})]},i))}),f.length>10&&t("div",{className:"flex justify-center mt-4 ml-2",children:[e("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2",onClick:R,children:"Show More"}),e("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:v,children:"Show Less"})]})]})]})]})}function ve(){const[c,g]=s.useState(""),[u,x]=s.useState(""),[h,S]=s.useState(""),[f,U]=s.useState(""),[n,y]=s.useState("waiting"),N=V(),[T,M]=s.useState(),[w,B]=s.useState([]),O=async r=>{const l="https://hooks.zapier.com/hooks/catch/15784808/39lgxy1/";try{const p=await(await fetch(l,{method:"POST",mode:"cors",body:JSON.stringify(r)})).json();console.log(p)}catch(m){console.log(m)}};function q(r){r.preventDefault();const l=re(se(),`products/partners/${T}`),m=le(l,T);m.on("state_changed",p=>{p.bytesTransferred/p.totalBytes*100},p=>{console.error(p)},async()=>{const p=await ne(m.snapshot.ref),J=D(z,"partner"),K=F(J,c);te(K,{imageUrl:p,name:c,status:0},{merge:!0});const W={name:c};M(""),c("");try{await O(W)}catch(X){console.log(X)}})}const $=r=>{const l=r.target.files[0];M(l)},E=Math.ceil(w.length/2.5),j=w.slice(0,E),P=w.slice(E);function L(r){j.map((l,m)=>{m===r&&(localStorage.setItem("partner",l.name),localStorage.setItem("image",l.imageUrl),localStorage.setItem("preset",l.Preset||"No preset available"),setTimeout(()=>{N(`/profile/${l.name}`)},1e3))})}function C(r){P.map((l,m)=>{m===r&&(localStorage.setItem("partner",l.name),localStorage.setItem("image",l.imageUrl),localStorage.setItem("preset",l.Preset||"No preset available"),setTimeout(()=>{N(`/profile/${l.name}`)},1e3))})}s.useEffect(()=>{const r=setTimeout(()=>{n<8&&N("/"),n>8&&clearTimeout(r)},1e3);return()=>{clearTimeout(r)}},[n,N]);const[I,R]=s.useState(!0);s.useEffect(()=>{const r=setTimeout(()=>{R(!1)},500);return()=>{clearTimeout(r)}},[]);const[v,a]=s.useState("Client"),[i,d]=s.useState(!1);s.useEffect(()=>{const r=()=>{d(window.innerWidth<650)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]);const[b,k]=s.useState(!0);s.useEffect(()=>{const r=setTimeout(()=>{k(!1)},500);return()=>clearTimeout(r)},[]);const[o,H]=s.useState(!0);return s.useEffect(()=>{const r=setTimeout(()=>{H(!1)},1800);return()=>clearTimeout(r)},[]),t(A,{children:[e(ge,{}),e(ie,{partner:w,setPartner:B}),e(_,{setUser:x,user:u,setUuid:S,setIsAccepted:U,level:n,setLevel:y}),e("div",{className:"bg-slate-400 min-h-screen flex flex-col items-center justify-between",style:{color:"white"},children:h!==""&&n>9&&I===!1&&e(A,{children:e("div",{children:t("div",{children:[e("div",{className:"",children:i&&n>8?e(ae,{}):null}),e(pe,{level:n,user:u,switching:v,setSwitching:a}),v==="Client"&&e("div",{className:"p-4 md:w-4/5 md:ml-[20%]",children:t("div",{className:"",children:[e("div",{className:"flex items-center justify-center p-2 mb-4 rounded bg-gray-50 dark:bg-gray-800 border-2 border-slate-900/50",children:e("div",{className:" gap-5 text-center text-2l text-gray-400 dark:text-gray-500 flex flex-col  justify-around",children:n>9&&t(A,{children:[e("h1",{className:"text-xl font-semibold text-white",children:"Add a new client and image to the Squarelion database"}),t("form",{onSubmit:q,className:" flex flex-col items-center",children:[e("input",{type:"text",placeholder:"ENTER CLIENT NAME ",onChange:r=>g(r.target.value),className:"w-[160px]"}),e("input",{type:"file",className:"w-[100px] !bg-green-500",onChange:$}),e("br",{}),e("button",{className:"border-2 border-green-600 rounded-lg px-3 py-2 text-green-400 cursor-pointer hover:bg-green-600 hover:text-green-200",children:"Add Client"})]})]})})}),t("div",{className:"table-split lg:flex gap-10 lg:flex-row bg-slate-900 p-5 animate-fade-right animate-once animate-duration-[2000ms] animate-ease-in-out",children:[t("section",{className:"absolute lg:w-[200px]",children:[e("p",{className:"text-white mb-2 font-bold text-md",children:"List of Squarelion Clients"}),e("hr",{className:"bg-white"})]}),b?e("div",{className:"flex items-center justify-center w-56 h-56 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:e("div",{className:"px-3 py-1 text-xs font-medium leading-none text-center text-blue-800 bg-blue-200 rounded-full animate-pulse dark:bg-blue-900 dark:text-blue-200",children:"loading..."})}):e("div",{className:"relative  m-auto  mt-10 w-full lg:w-[400px] ",children:t("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:t("tr",{children:[e("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e("th",{scope:"col",className:"px-6 py-3",children:"Icon"})]})}),e("tbody",{className:"bg-white divide-y dark:divide-gray-700 dark:bg-gray-800",children:j.map((r,l)=>t("tr",{children:[e("td",{className:"px-6 py-4",children:t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"flex-shrink-0 w-2.5 h-2.5 rounded-full bg-gradient-to-tr from-blue-500 to-blue-600"}),e("span",{children:r.name})]})}),e("td",{className:"px-6 py-4",children:e("div",{className:"text-gray-500 dark:text-gray-400 cursor-pointer hover:scale-110",children:e("button",{onClick:()=>{L(l)},disabled:n!==11&&r.name==="Test",className:n!==11&&r.name==="Test"?"opacity-20":"opacity-100 ",children:t("div",{className:"flex items-center justify-center  rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o===!1?null:e("div",{className:"px-3  py-1 text-xs font-medium leading-none text-center text-blue-800 bg-blue-200 rounded-full animate-pulse dark:bg-blue-900 dark:text-blue-200",children:"loading..."}),e("img",{src:r.imageUrl,className:`xs:w-[50px] md:w-[50px] lg:w-[50px] ${o?"hidden opacity-0":"visible transition-opacity duration-1000 ease-in opacity-100 animate-fade animate-once animate-duration-[2000ms] animate-ease-in-out  "}`})]})})})})]},l))})]})}),b?e("div",{className:"flex items-center justify-center w-56 h-56 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:e("div",{className:"px-3 py-1 text-xs font-medium leading-none text-center text-blue-800 bg-blue-200 rounded-full animate-pulse dark:bg-blue-900 dark:text-blue-200",children:"loading..."})}):e("div",{className:"relative  m-auto  mt-10 w-full lg:w-[400px]",children:t("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:t("tr",{children:[e("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e("th",{scope:"col",className:"px-6 py-3",children:"Icon"})]})}),e("tbody",{className:"bg-white divide-y dark:divide-gray-700 dark:bg-gray-800",children:P.map((r,l)=>t("tr",{children:[e("td",{className:"px-6 py-4",children:t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"flex-shrink-0 w-2.5 h-2.5 rounded-full bg-gradient-to-tr from-blue-500 to-blue-600"}),e("span",{children:r.name})]})}),e("td",{className:"px-6 py-4",children:e("div",{className:"text-gray-500 dark:text-gray-400 cursor-pointer hover:scale-110",children:e("button",{onClick:()=>{C(l)},disabled:n!==11&&r.name==="Test",className:n!==11&&r.name==="Test"?"opacity-20":"opacity-100 ",children:t("div",{className:" items-center justify-center  rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o===!1?null:e("div",{className:"px-3 py-1 text-xs font-medium leading-none text-center text-blue-800 bg-blue-200 rounded-full animate-pulse dark:bg-blue-900 dark:text-blue-200",children:"loading..."}),e("img",{src:r.imageUrl,className:`xs:w-[50px] md:w-[50px] lg:w-[50px] ${o?"hidden":"visible animate-fade animate-once animate-duration-[2000ms] animate-ease-in-out"}`})]})})})})]},l))})]})})]})]})}),v==="Users"&&e(xe,{})]})})})}),I===!0&&e(A,{children:e(ee,{})})]})}export{ve as default};
