import{r as i,g as X,a as J,s as L,_ as j,b as oe,e as ve,c as Y,j as t,d as Q,f as re,h as ne,i as ee,k as D,l as le,m as Se,n as je,u as me,R as we,L as ye}from"./index-5a27fc07.js";import{U as ae,_ as z,b as A,m as V,d as O,c as te,f as Ce,r as ke,e as $e,u as Ne,h as Re}from"./index.esm2017-77c9a932.js";import{u as Pe,B as Be,a as Fe,A as he,M as Ee,P as fe,N as Te}from"./Nav-7b7bb206.js";import{F as qe}from"./Footer-25614076.js";import{T as se}from"./Typography-19320cfd.js";import{B as ge,P as Ue}from"./PartnerLogic-fdf1866f.js";const Ie=i.createContext(),de=Ie;function Le(e){return X("MuiGrid",e)}const Ge=[0,1,2,3,4,5,6,7,8,9,10],Me=["column-reverse","column","row-reverse","row"],ze=["nowrap","wrap-reverse","wrap"],K=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Z=J("MuiGrid",["root","container","item","zeroMinWidth",...Ge.map(e=>`spacing-xs-${e}`),...Me.map(e=>`direction-xs-${e}`),...ze.map(e=>`wrap-xs-${e}`),...K.map(e=>`grid-xs-${e}`),...K.map(e=>`grid-sm-${e}`),...K.map(e=>`grid-md-${e}`),...K.map(e=>`grid-lg-${e}`),...K.map(e=>`grid-xl-${e}`)]),Ae=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function _(e){const s=parseFloat(e);return`${s}${String(e).replace(String(s),"")||"px"}`}function Oe({theme:e,ownerState:s}){let o;return e.breakpoints.keys.reduce((r,n)=>{let a={};if(s[n]&&(o=s[n]),!o)return r;if(o===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(o==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const p=re({values:s.columns,breakpoints:e.breakpoints.values}),m=typeof p=="object"?p[n]:p;if(m==null)return r;const c=`${Math.round(o/m*1e8)/1e6}%`;let d={};if(s.container&&s.item&&s.columnSpacing!==0){const l=e.spacing(s.columnSpacing);if(l!=="0px"){const b=`calc(${c} + ${_(l)})`;d={flexBasis:b,maxWidth:b}}}a=j({flexBasis:c,flexGrow:0,maxWidth:c},d)}return e.breakpoints.values[n]===0?Object.assign(r,a):r[e.breakpoints.up(n)]=a,r},{})}function We({theme:e,ownerState:s}){const o=re({values:s.direction,breakpoints:e.breakpoints.values});return ne({theme:e},o,r=>{const n={flexDirection:r};return r.indexOf("column")===0&&(n[`& > .${Z.item}`]={maxWidth:"none"}),n})}function xe({breakpoints:e,values:s}){let o="";Object.keys(s).forEach(n=>{o===""&&s[n]!==0&&(o=n)});const r=Object.keys(e).sort((n,a)=>e[n]-e[a]);return r.slice(0,r.indexOf(o))}function De({theme:e,ownerState:s}){const{container:o,rowSpacing:r}=s;let n={};if(o&&r!==0){const a=re({values:r,breakpoints:e.breakpoints.values});let p;typeof a=="object"&&(p=xe({breakpoints:e.breakpoints.values,values:a})),n=ne({theme:e},a,(m,c)=>{var d;const l=e.spacing(m);return l!=="0px"?{marginTop:`-${_(l)}`,[`& > .${Z.item}`]:{paddingTop:_(l)}}:(d=p)!=null&&d.includes(c)?{}:{marginTop:0,[`& > .${Z.item}`]:{paddingTop:0}}})}return n}function Ve({theme:e,ownerState:s}){const{container:o,columnSpacing:r}=s;let n={};if(o&&r!==0){const a=re({values:r,breakpoints:e.breakpoints.values});let p;typeof a=="object"&&(p=xe({breakpoints:e.breakpoints.values,values:a})),n=ne({theme:e},a,(m,c)=>{var d;const l=e.spacing(m);return l!=="0px"?{width:`calc(100% + ${_(l)})`,marginLeft:`-${_(l)}`,[`& > .${Z.item}`]:{paddingLeft:_(l)}}:(d=p)!=null&&d.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Z.item}`]:{paddingLeft:0}}})}return n}function _e(e,s,o={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[o[`spacing-xs-${String(e)}`]];const r=[];return s.forEach(n=>{const a=e[n];Number(a)>0&&r.push(o[`spacing-${n}-${String(a)}`])}),r}const Qe=L("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:o}=e,{container:r,direction:n,item:a,spacing:p,wrap:m,zeroMinWidth:c,breakpoints:d}=o;let l=[];r&&(l=_e(p,d,s));const b=[];return d.forEach(S=>{const w=o[S];w&&b.push(s[`grid-${S}-${String(w)}`])}),[s.root,r&&s.container,a&&s.item,c&&s.zeroMinWidth,...l,n!=="row"&&s[`direction-xs-${String(n)}`],m!=="wrap"&&s[`wrap-xs-${String(m)}`],...b]}})(({ownerState:e})=>j({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),We,De,Ve,Oe);function Ke(e,s){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const o=[];return s.forEach(r=>{const n=e[r];if(Number(n)>0){const a=`spacing-${r}-${String(n)}`;o.push(a)}}),o}const He=e=>{const{classes:s,container:o,direction:r,item:n,spacing:a,wrap:p,zeroMinWidth:m,breakpoints:c}=e;let d=[];o&&(d=Ke(a,c));const l=[];c.forEach(S=>{const w=e[S];w&&l.push(`grid-${S}-${String(w)}`)});const b={root:["root",o&&"container",n&&"item",m&&"zeroMinWidth",...d,r!=="row"&&`direction-xs-${String(r)}`,p!=="wrap"&&`wrap-xs-${String(p)}`,...l]};return ee(b,Le,s)},Ze=i.forwardRef(function(s,o){const r=oe({props:s,name:"MuiGrid"}),{breakpoints:n}=Pe(),a=ve(r),{className:p,columns:m,columnSpacing:c,component:d="div",container:l=!1,direction:b="row",item:S=!1,rowSpacing:w,spacing:T=0,wrap:G="wrap",zeroMinWidth:P=!1}=a,$=Y(a,Ae),N=w||T,I=c||T,B=i.useContext(de),R=l?m||12:B,u={},h=j({},$);n.keys.forEach(F=>{$[F]!=null&&(u[F]=$[F],delete h[F])});const C=j({},a,{columns:R,container:l,direction:b,item:S,rowSpacing:N,columnSpacing:I,wrap:G,zeroMinWidth:P,spacing:T},u,{breakpoints:n.keys}),f=He(C);return t.jsx(de.Provider,{value:R,children:t.jsx(Qe,j({ownerState:C,className:Q(f.root,p),as:d,ref:o},h))})}),ue=Ze,pe="https://Balanss.github.io/Squarelion/assets/user-def15e8d.png",Xe="https://Balanss.github.io/Squarelion/assets/thumbup-73273f4b.png",Je="https://Balanss.github.io/Squarelion/assets/thumbdown-fa6379fb.png";function Ye(e){return X("MuiFormGroup",e)}J("MuiFormGroup",["root","row","error"]);const et=i.createContext(void 0),tt=et;function ie(){return i.useContext(tt)}function be({props:e,states:s,muiFormControl:o}){return s.reduce((r,n)=>(r[n]=e[n],o&&typeof e[n]>"u"&&(r[n]=o[n]),r),{})}const st=["className","row"],ot=e=>{const{classes:s,row:o,error:r}=e;return ee({root:["root",o&&"row",r&&"error"]},Ye,s)},rt=L("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[s.root,o.row&&s.row]}})(({ownerState:e})=>j({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),nt=i.forwardRef(function(s,o){const r=oe({props:s,name:"MuiFormGroup"}),{className:n,row:a=!1}=r,p=Y(r,st),m=ie(),c=be({props:r,muiFormControl:m,states:["error"]}),d=j({},r,{row:a,error:c.error}),l=ot(d);return t.jsx(rt,j({className:Q(l.root,n),ownerState:d,ref:o},p))}),at=nt;function it(e){return X("MuiFormControlLabel",e)}const ct=J("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),H=ct,lt=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],dt=e=>{const{classes:s,disabled:o,labelPlacement:r,error:n,required:a}=e,p={root:["root",o&&"disabled",`labelPlacement${D(r)}`,n&&"error",a&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",n&&"error"]};return ee(p,it,s)},ut=L("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[{[`& .${H.label}`]:s.label},s.root,s[`labelPlacement${D(o.labelPlacement)}`]]}})(({theme:e,ownerState:s})=>j({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${H.disabled}`]:{cursor:"default"}},s.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},s.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},s.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${H.label}`]:{[`&.${H.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),pt=L("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,s)=>s.asterisk})(({theme:e})=>({[`&.${H.error}`]:{color:(e.vars||e).palette.error.main}})),mt=i.forwardRef(function(s,o){var r,n;const a=oe({props:s,name:"MuiFormControlLabel"}),{className:p,componentsProps:m={},control:c,disabled:d,disableTypography:l,label:b,labelPlacement:S="end",required:w,slotProps:T={}}=a,G=Y(a,lt),P=ie(),$=(r=d??c.props.disabled)!=null?r:P==null?void 0:P.disabled,N=w??c.props.required,I={disabled:$,required:N};["checked","name","onChange","value","inputRef"].forEach(f=>{typeof c.props[f]>"u"&&typeof a[f]<"u"&&(I[f]=a[f])});const B=be({props:a,muiFormControl:P,states:["error"]}),R=j({},a,{disabled:$,labelPlacement:S,required:N,error:B.error}),u=dt(R),h=(n=T.typography)!=null?n:m.typography;let C=b;return C!=null&&C.type!==se&&!l&&(C=t.jsx(se,j({component:"span"},h,{className:Q(u.label,h==null?void 0:h.className),children:C}))),t.jsxs(ut,j({className:Q(u.root,p),ownerState:R,ref:o},G,{children:[i.cloneElement(c,I),C,N&&t.jsxs(pt,{ownerState:R,"aria-hidden":!0,className:u.asterisk,children:["â€‰","*"]})]}))}),ht=mt;function ft(e){return X("PrivateSwitchBase",e)}J("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const gt=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],xt=e=>{const{classes:s,checked:o,disabled:r,edge:n}=e,a={root:["root",o&&"checked",r&&"disabled",n&&`edge${D(n)}`],input:["input"]};return ee(a,ft,s)},bt=L(Be)(({ownerState:e})=>j({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),vt=L("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),St=i.forwardRef(function(s,o){const{autoFocus:r,checked:n,checkedIcon:a,className:p,defaultChecked:m,disabled:c,disableFocusRipple:d=!1,edge:l=!1,icon:b,id:S,inputProps:w,inputRef:T,name:G,onBlur:P,onChange:$,onFocus:N,readOnly:I,required:B=!1,tabIndex:R,type:u,value:h}=s,C=Y(s,gt),[f,F]=Fe({controlled:n,default:!!m,name:"SwitchBase",state:"checked"}),k=ie(),g=W=>{N&&N(W),k&&k.onFocus&&k.onFocus(W)},x=W=>{P&&P(W),k&&k.onBlur&&k.onBlur(W)},v=W=>{if(W.nativeEvent.defaultPrevented)return;const ce=W.target.checked;F(ce),$&&$(W,ce)};let y=c;k&&typeof y>"u"&&(y=k.disabled);const q=u==="checkbox"||u==="radio",U=j({},s,{checked:f,disabled:y,disableFocusRipple:d,edge:l}),M=xt(U);return t.jsxs(bt,j({component:"span",className:Q(M.root,p),centerRipple:!0,focusRipple:!d,disabled:y,tabIndex:null,role:void 0,onFocus:g,onBlur:x,ownerState:U,ref:o},C,{children:[t.jsx(vt,j({autoFocus:r,checked:n,defaultChecked:m,className:M.input,disabled:y,id:q?S:void 0,name:G,onChange:v,readOnly:I,ref:T,required:B,ownerState:U,tabIndex:R,type:u},u==="checkbox"&&h===void 0?{}:{value:h},w)),f?a:b]}))}),jt=St;function wt(e){return X("MuiSwitch",e)}const yt=J("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),E=yt,Ct=["className","color","edge","size","sx"],kt=e=>{const{classes:s,edge:o,size:r,color:n,checked:a,disabled:p}=e,m={root:["root",o&&`edge${D(o)}`,`size${D(r)}`],switchBase:["switchBase",`color${D(n)}`,a&&"checked",p&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=ee(m,wt,s);return j({},s,c)},$t=L("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[s.root,o.edge&&s[`edge${D(o.edge)}`],s[`size${D(o.size)}`]]}})(({ownerState:e})=>j({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${E.thumb}`]:{width:16,height:16},[`& .${E.switchBase}`]:{padding:4,[`&.${E.checked}`]:{transform:"translateX(16px)"}}})),Nt=L(jt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[s.switchBase,{[`& .${E.input}`]:s.input},o.color!=="default"&&s[`color${D(o.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${E.checked}`]:{transform:"translateX(20px)"},[`&.${E.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${E.checked} + .${E.track}`]:{opacity:.5},[`&.${E.disabled} + .${E.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${E.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:s})=>j({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:le(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},s.color!=="default"&&{[`&.${E.checked}`]:{color:(e.vars||e).palette[s.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[s.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:le(e.palette[s.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${E.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${s.color}DisabledColor`]:`${e.palette.mode==="light"?Se(e.palette[s.color].main,.62):je(e.palette[s.color].main,.55)}`}},[`&.${E.checked} + .${E.track}`]:{backgroundColor:(e.vars||e).palette[s.color].main}})),Rt=L("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,s)=>s.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),Pt=L("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,s)=>s.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Bt=i.forwardRef(function(s,o){const r=oe({props:s,name:"MuiSwitch"}),{className:n,color:a="primary",edge:p=!1,size:m="medium",sx:c}=r,d=Y(r,Ct),l=j({},r,{color:a,edge:p,size:m}),b=kt(l),S=t.jsx(Pt,{className:b.thumb,ownerState:l});return t.jsxs($t,{className:Q(b.root,n),sx:c,ownerState:l,children:[t.jsx(Nt,j({type:"checkbox",icon:S,checkedIcon:S,ref:o,ownerState:l},d,{classes:j({},b,{root:b.switchBase})})),t.jsx(Rt,{className:b.track,ownerState:l})]})}),Ft=Bt;function Et(){const[e,s]=i.useState([]),[o,r]=i.useState(""),[n,a]=i.useState(""),[p,m]=i.useState(""),[c,d]=i.useState("waiting");i.useState(0);const[l,b]=i.useState(""),[S,w]=i.useState(""),[T,G]=i.useState(""),[P,$]=i.useState(""),[N,I]=i.useState(""),[B,R]=i.useState(""),[u,h]=i.useState("");function C(){const f=z(O,"survey"+S),F=A(f,l);V(F,{to:S,label:l,question0:T,question1:P,question2:N,question3:B,question4:u},{merge:!0})}return t.jsxs(t.Fragment,{children:[t.jsx(he,{setUserPermit:s}),t.jsx(ae,{setUser:r,user:o,setUuid:a,setIsAccepted:m,level:c,setLevel:d}),t.jsxs("div",{className:"main-surv-div",children:[t.jsxs("div",{className:"survey-creator",children:[t.jsxs("div",{children:[t.jsx("h5",{children:"Survey Creator"}),t.jsx("p",{children:" STEP 1 : Enter the employee name below  "}),t.jsx("input",{type:"text",placeholder:"Enter user",onChange:f=>w(f.target.value)})]}),t.jsx("hr",{className:"step-1"}),t.jsxs("div",{children:[t.jsx("h5",{children:" Enter the Topic of the Survey "}),t.jsx("p",{children:" STEP 2 : Enter the topic "}),t.jsx("input",{type:"text",placeholder:"Enter type",onChange:f=>b(f.target.value)})]}),t.jsx("hr",{className:"step-1"}),t.jsxs("div",{children:[t.jsx("h5",{children:" Each topic can have a maximum of 5 questions! "}),t.jsx("p",{children:" STEP 3 : Enter the questions below "}),t.jsx("input",{type:"text",placeholder:"Enter question 1",onChange:f=>G(f.target.value)}),t.jsx("input",{type:"text",placeholder:"Enter question 2",onChange:f=>$(f.target.value)}),t.jsx("input",{type:"text",placeholder:"Enter question 3",onChange:f=>I(f.target.value)}),t.jsx("input",{type:"text",placeholder:"Enter question 4",onChange:f=>R(f.target.value)}),t.jsx("input",{type:"text",placeholder:"Enter question 5",onChange:f=>h(f.target.value)})]}),t.jsx("hr",{className:"step-1"}),t.jsxs("div",{children:[t.jsx("h4",{children:" Submit Survey"}),t.jsx("button",{onClick:()=>{C()},children:"Save Survey"})]})]}),t.jsxs("div",{className:"survey-creator preview",children:[t.jsx("h3",{children:" PREVIEW"}),t.jsxs("div",{children:[t.jsx("h5",{children:" Survey About   "}),t.jsxs("p",{children:[" ",S," "]})]}),t.jsxs("div",{children:[t.jsx("h5",{children:" Topic About"}),t.jsxs("p",{children:[" ",l," "]})]}),t.jsxs("div",{children:[t.jsx("h5",{children:" Questions Preview"}),t.jsxs("p",{children:["  Question 1 : ",T,"  "]}),t.jsxs("p",{children:[" Question 2 : ",P,"  "]}),t.jsxs("p",{children:[" Question 3 : ",N,"  "]}),t.jsxs("p",{children:["  Question 4 : ",B,"  "]}),t.jsxs("p",{children:["  Question 5 : ",u,"  "]})]})]})]})]})}const Tt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,color:"black"};L(fe)(({theme:e})=>({backgroundColor:e.palette.mode==="dark"?"#1A2027":"#fff",...e.typography.body2,padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}));function qt(){const[e,s]=i.useState([]),[o,r]=i.useState(""),[n,a]=i.useState(""),[p,m]=i.useState(""),[c,d]=i.useState("waiting");me();const[l,b]=i.useState("");function S(g,x){x.preventDefault(),e.map((v,y)=>{if(y===g){const q=z(O,"admin"),U=A(q,v.id),M=parseInt(l);te(U,{level:M})}})}function w(g){e.map((x,v)=>{if(v===g){const y=z(O,"admin"),q=A(y,x.id);te(q,{request:"Accepted"},{merge:!0});const U=z(O,"notInOffice"),M=A(U,x.Name);V(M,{[x.time]:{request:"Accepted"}},{merge:!0})}})}function T(g){e.map((x,v)=>{if(v===g){const y=z(O,"admin"),q=A(y,x.id);te(q,{request:"Denied"},{merge:!0});const U=z(O,"notInOffice"),M=A(U,x.Name);V(M,{[x.time]:{request:"Denied"}},{merge:!0})}})}function G(g){e.map((x,v)=>{if(v===g){const y=z(O,"admin"),q=A(y,x.id);te(q,{request:""},{merge:!0});const U=z(O,"notInOffice"),M=A(U,x.Name);V(M,{[x.time]:{request:""}},{merge:!0})}})}const[P,$]=i.useState([]),N=async()=>{try{return Ce.collection("notInOffice").onSnapshot(x=>{const v=x.docs.map(y=>({id:y.id,...y.data()}));v.sort((y,q)=>y.id-q.id),$(v)})}catch(g){console.error("Error fetching WFH/Office data:",g)}};i.useEffect(()=>{N()},[]);const[I,B]=we.useState(!1),R=()=>B(!0),u=()=>B(!1),[h,C]=i.useState(null),f=g=>{C(g)},[F,k]=i.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(he,{setUserPermit:s}),t.jsx(ae,{setUser:r,user:o,setUuid:a,setIsAccepted:m,level:c,setLevel:d}),c>9&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"user-settings-admin",children:[t.jsx(at,{children:t.jsx(ht,{onClick:()=>k(F===!1),control:t.jsx(Ft,{defaultChecked:!0}),style:{color:"black"},label:F===!1?"Approved users":"Un-Approved users"})}),t.jsx("div",{className:"user-levels",children:F===!1?t.jsx("div",{className:"inside-user-levels",children:e.map((g,x)=>{if(g.level>0)return t.jsxs("div",{className:"user-level-div",children:[t.jsx("img",{className:"user-pfp",src:pe,style:{width:"30px"}}),t.jsx("h4",{onClick:()=>{R()},className:"user-name-edit",children:g.Name}),t.jsx(Ee,{open:I,onClose:u,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:t.jsxs(ge,{sx:Tt,children:[t.jsxs(se,{id:"modal-modal-title",variant:"h6",component:"h2",children:[P.map(v=>t.jsx("button",{style:{marginLeft:"10px"},onClick:()=>f(v),children:v.id},v.id)),h&&t.jsxs("div",{children:[t.jsxs("h2",{children:["Selected User: ",h.id]}),Object.entries(h).map(([v,y])=>{if(v!=="id"){const{reason:q,time:U,user:M}=y;return t.jsxs("div",{children:[t.jsxs("p",{children:["Reason: ",q]}),t.jsxs("p",{children:["Time: ",U]}),t.jsx("hr",{})]},v)}return null})]})]}),t.jsx(se,{id:"modal-modal-description",sx:{mt:2}})]})}),t.jsxs("h4",{className:"user-level",children:["User Level: ",g.level]}),t.jsx("form",{onSubmit:v=>{S(x,v)},children:g.level!==11?t.jsx("input",{className:"user-input",placeholder:"EDIT USER",onChange:v=>b(v.target.value)}):null}),g.request>""?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"div-request-approval",children:[g.request!=="Waiting Request"?t.jsx("h3",{className:"request-approval",onClick:()=>G(x),children:" Clear  "}):null,t.jsxs("h3",{className:"request-approval",children:[" ",g.request,"  "]}),t.jsxs("div",{children:[t.jsx("img",{src:Xe,onClick:()=>w(x),style:{width:"40px",cursor:"pointer"}}),t.jsx("img",{src:Je,onClick:()=>T(x),style:{width:"40px",cursor:"pointer"}})]})]})}):null]},x)})}):t.jsx("div",{className:"user-levels-await",children:t.jsx("div",{children:e.map((g,x)=>{if(g.level===0)return t.jsxs("div",{className:"user-level-div",children:[t.jsx("img",{src:pe,style:{width:"30px"}}),t.jsx("h1",{children:g.Name}),t.jsxs("h1",{children:[" User Level: ",g.level]}),t.jsx("form",{onSubmit:v=>{S(x,v)},children:t.jsx("input",{placeholder:"EDIT USER",onChange:v=>b(v.target.value)})})]},x)})})})})]})})]})}const Ut="https://Balanss.github.io/Squarelion/assets/new-arrival-b24be3b5.png",It="https://Balanss.github.io/Squarelion/assets/client-acfcdaca.png",Lt="https://Balanss.github.io/Squarelion/assets/survey-37b808a5.png";L(fe)(({theme:e})=>({backgroundColor:e.palette.mode==="dark"?"#1A2027":"#fff",...e.typography.body2,padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}));function Dt(){const[e,s]=i.useState(""),[o,r]=i.useState(""),[n,a]=i.useState(""),[p,m]=i.useState(""),[c,d]=i.useState("waiting"),l=me(),[b,S]=i.useState(),[w,T]=i.useState([]);function G(u){u.preventDefault();const h=z(O,"partner"),C=A(h,e);V(C,{name:e},{merge:!0});const f=ke($e(),`products/partners/${b.name}`),F=Ne(f,b);F.on("state_changed",k=>{k.bytesTransferred/k.totalBytes*100},k=>{console.error(k)},async()=>{const k=await Re(F.snapshot.ref),g=z(O,"partner"),x=A(g,e);V(x,{imageUrl:k,name:e,status:0},{merge:!0})},{merge:!0})}const P=u=>{const h=u.target.files[0];S(h)};function $(u){w.map((h,C)=>{C===u&&(localStorage.setItem("partner",h.name),localStorage.setItem("image",h.imageUrl),setTimeout(()=>{l(`/profile/${h.name}`)},2e3))})}i.useEffect(()=>{const u=setTimeout(()=>{c<8&&l("/"),c>8&&clearTimeout(u)},1e3);return()=>{clearTimeout(u)}},[c,l]);const[N,I]=i.useState(!0);i.useEffect(()=>{const u=setTimeout(()=>{I(!1)},1e3);return()=>{clearTimeout(u)}},[]);const[B,R]=i.useState("client");return i.useState(!1),t.jsxs(t.Fragment,{children:[t.jsx(Ue,{partner:w,setPartner:T}),t.jsxs("div",{className:"signup-main",style:{color:"white"},children:[t.jsx(ae,{setUser:r,user:o,setUuid:a,setIsAccepted:m,level:c,setLevel:d}),n!==""&&c>8&&N===!1&&t.jsx(t.Fragment,{children:t.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[t.jsxs("div",{style:{backgroundColor:"white"},children:[" ",t.jsx(Te,{})," "]}),c>9&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"admin-page-btn-switch",children:[t.jsx("img",{className:"clientimg",src:It,onClick:()=>R("client")}),t.jsx("img",{src:Ut,className:"clientimg",onClick:()=>R("users")}),t.jsx("img",{src:Lt,className:"clientimg",onClick:()=>R("survey")})]})}),B==="client"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"style-admin-page",children:[c>9&&t.jsx(t.Fragment,{children:t.jsxs("form",{onSubmit:G,className:"form-admindb",children:[t.jsx("input",{type:"text",placeholder:"ENTER PARTNER",onChange:u=>s(u.target.value),className:"input-admindb"}),t.jsxs("label",{children:["Image:",t.jsx("input",{type:"file",onChange:P})]}),t.jsx("button",{className:"add-partner",children:" Add Client "})]})}),t.jsx("div",{className:"partner-links",children:t.jsx(ge,{sx:{flexGrow:1},children:t.jsx(ue,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:w.map((u,h)=>t.jsxs(ue,{item:!0,xs:2,sm:4,md:4,children:[c===11?t.jsx("img",{className:"partner-image",src:u.imageUrl,onClick:()=>{$(h)},style:{cursor:"pointer",backgroundColor:"white"}},h):null,c!==11&&u.name!=="Test"?t.jsx("img",{className:"partner-image",src:u.imageUrl,onClick:()=>{$(h)},style:{cursor:"pointer",backgroundColor:"white"}},h):null]},h))})})})]})}),B==="users"&&t.jsx(qt,{}),B==="survey"&&t.jsx(Et,{}),t.jsx(qe,{})]})}),N===!0&&t.jsx(t.Fragment,{children:t.jsx(ye,{})})]})]})}export{Dt as default};
